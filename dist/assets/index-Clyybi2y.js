(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}})();async function h(o){const s=`https://api.openweathermap.org/data/2.5/weather?q=${o}&appid=bca09d6a1fc3b66e884d9a35aaaff66b`,t=await fetch(s);var e=await t.json();if(!t)throw new Error("could not fetch weather data");return await e}const l=document.querySelector(".app-background");function u(o){const{weather:[{id:r,icon:s}]}=o;let t="--color-first:",e="--color-second:";switch(!0){case(r>=200&&r<600&&r>=700&&r<800):l.style.cssText=`${t}var(--light-gray); ${e}var(--dark-gray);`;break;case(r>=300&&r<400):l.style.cssText=`${t}var(--dark-gray); ${e}var(--very-dark-gray)`;break;case(r>=600&&r<700):l.style.cssText=`${t}var(--very-light-blue); ${e}var(--grayish-light-blue);`;break;case r===800:s.includes("d")?l.style.cssText=`${t}var(--light-blue-color); ${e}var(--blue-color);`:l.style.cssText=`${t}var(--dark-blue); ${e}var(--dark-purple);`;break;case(r>=700&&r<800):l.style.cssText=`${t}var(--light-gray); ${e}var(--dark-gray);`;break;case r>800:s.includes("d")?l.style.cssText=`${t}var(--light-gray); ${e}var(--dark-gray);`:l.style.cssText=`${t}var(--dark-blue); ${e}var(--dark-purple);`;break}}async function m(o){const r=`
		<span class="error-component__icon"></span>
		<h3><b>error</b>: ${o}</h3>`,s=document.createElement("div");s.innerHTML=r,document.body.appendChild(s).className="error-component",await new Promise(t=>setTimeout(t,1)),s.classList.add("show-component"),await new Promise(t=>setTimeout(t,4e3)),s.classList.remove("show-component"),await new Promise(t=>setTimeout(t,1e3)),document.body.removeChild(s)}const f=document.querySelector(".search-form"),g=document.querySelector(".city"),d=document.querySelectorAll(".weather-info__card h3"),$=document.querySelector(".weather__temp"),w=document.querySelector(".weather__status"),i=document.querySelector(".icon__weather img");function b(o){const{name:r,main:{humidity:s,temp:t,pressure:e},weather:[{description:n,id:c,icon:p}],wind:{speed:y}}=o;g.textContent=`${r}`,$.innerHTML=`<h2>${(t-273.15).toFixed(1)}Â°C</h2>`,d[0].textContent=`${y}kmh`,d[1].textContent=`${s}%`,d[2].textContent=`${e} hPa`,w.innerHTML=`<h3>${n}</h3>`,document.querySelector(".app").classList.remove("visually-hidden");const a="/weather-app/assets/images/";switch(!0){case(c>=200&&c<300):i.src=`${a}storm.png`,u(o);break;case(c>=300&&c<400):i.src=`${a}drizzle.png`,u(o);break;case(c>=500&&c<600):i.src=`${a}heavy-rain.png`,u(o);break;case(c>=600&&c<700):i.src=`${a}snow.png`,u(o);break;case(c>=700&&c<800):i.src=`${a}foggy.png`,u(o);break;case c===800:p==="01d"?i.src=`${a}sunny.png`:i.src=`${a}night.png`,u(o);break;case c>800:p.includes("d")?i.src=`${a}cloudy-sun.png`:i.src=`${a}cloudy-night.png`,u(o);break}}f.addEventListener("submit",async o=>{o.preventDefault();const s=document.querySelector(".search-form__input").value;if(s||m("please enter city name"),s)try{var t=await h(s);b(t)}catch{m("City not found. Please try again.")}});
